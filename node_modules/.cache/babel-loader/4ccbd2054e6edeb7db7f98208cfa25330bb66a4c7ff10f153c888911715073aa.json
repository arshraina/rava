{"ast":null,"code":"var _jsxFileName = \"/Users/arshraina/Desktop/RAVA/frontend/src/VideoPlayer.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport Hls from 'hls.js';\nimport { Button, Spin, Typography, Card, Row, Col } from 'antd';\nimport { PlayCircleOutlined } from '@ant-design/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Title,\n  Text\n} = Typography;\nconst VideoPlayer = ({\n  playbackUrl\n}) => {\n  _s();\n  const videoRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const handlePlay = () => {\n    const video = videoRef.current;\n    if (Hls.isSupported()) {\n      setLoading(true);\n      const hls = new Hls();\n      hls.loadSource(playbackUrl);\n      hls.attachMedia(video);\n      hls.on(Hls.Events.MANIFEST_PARSED, () => {\n        console.log('HLS manifest loaded, starting playback...');\n        video.play();\n        setIsPlaying(true);\n        setLoading(false);\n      });\n      hls.on(Hls.Events.ERROR, (event, data) => {\n        console.error('HLS.js error:', event, data);\n        setLoading(false);\n      });\n      return () => {\n        hls.destroy();\n      };\n    } else if (video.canPlayType('application/vnd.apple.mpegurl')) {\n      setLoading(true);\n      video.src = playbackUrl;\n      video.addEventListener('loadedmetadata', () => {\n        video.play();\n        setIsPlaying(true);\n        setLoading(false);\n      });\n      return () => {\n        video.removeEventListener('loadedmetadata', () => video.play());\n      };\n    } else {\n      console.error('HLS is not supported in this browser.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    style: {\n      maxWidth: '800px',\n      margin: '20px auto',\n      padding: '20px',\n      borderRadius: '8px',\n      boxShadow: '0px 4px 10px rgba(0, 0, 0, 0.15)'\n    },\n    bodyStyle: {\n      padding: '0'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      level: 3,\n      style: {\n        textAlign: 'center',\n        margin: '20px 0'\n      },\n      children: \"Live Streaming Player\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      justify: \"center\",\n      children: [!isPlaying && !loading && /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        icon: /*#__PURE__*/_jsxDEV(PlayCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 31\n        }, this),\n        onClick: handlePlay,\n        size: \"large\",\n        style: {\n          marginBottom: '20px'\n        },\n        children: \"Start Stream\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), loading && /*#__PURE__*/_jsxDEV(Spin, {\n        tip: \"Loading stream...\",\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          controls: true,\n          style: {\n            width: '100%',\n            height: 'auto',\n            display: isPlaying ? 'block' : 'none',\n            borderRadius: '8px',\n            border: '1px solid #ddd'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), !isPlaying && !loading && /*#__PURE__*/_jsxDEV(Text, {\n      type: \"secondary\",\n      style: {\n        display: 'block',\n        textAlign: 'center',\n        marginTop: '20px'\n      },\n      children: \"Click \\\"Start Stream\\\" to play the live stream.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n_s(VideoPlayer, \"TYvZLtftqgftHoY0zElN/aLeZAg=\");\n_c = VideoPlayer;\nexport default VideoPlayer;\nvar _c;\n$RefreshReg$(_c, \"VideoPlayer\");","map":{"version":3,"names":["React","useRef","useEffect","useState","Hls","Button","Spin","Typography","Card","Row","Col","PlayCircleOutlined","jsxDEV","_jsxDEV","Title","Text","VideoPlayer","playbackUrl","_s","videoRef","isPlaying","setIsPlaying","loading","setLoading","handlePlay","video","current","isSupported","hls","loadSource","attachMedia","on","Events","MANIFEST_PARSED","console","log","play","ERROR","event","data","error","destroy","canPlayType","src","addEventListener","removeEventListener","style","maxWidth","margin","padding","borderRadius","boxShadow","bodyStyle","children","level","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","justify","type","icon","onClick","size","marginBottom","tip","span","ref","controls","width","height","display","border","marginTop","_c","$RefreshReg$"],"sources":["/Users/arshraina/Desktop/RAVA/frontend/src/VideoPlayer.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport Hls from 'hls.js';\nimport { Button, Spin, Typography, Card, Row, Col } from 'antd';\nimport { PlayCircleOutlined } from '@ant-design/icons';\n\nconst { Title, Text } = Typography;\n\nconst VideoPlayer = ({ playbackUrl }) => {\n    const videoRef = useRef(null);\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [loading, setLoading] = useState(false);\n\n    const handlePlay = () => {\n        const video = videoRef.current;\n\n        if (Hls.isSupported()) {\n            setLoading(true);\n            const hls = new Hls();\n            hls.loadSource(playbackUrl);\n            hls.attachMedia(video);\n            hls.on(Hls.Events.MANIFEST_PARSED, () => {\n                console.log('HLS manifest loaded, starting playback...');\n                video.play();\n                setIsPlaying(true);\n                setLoading(false);\n            });\n\n            hls.on(Hls.Events.ERROR, (event, data) => {\n                console.error('HLS.js error:', event, data);\n                setLoading(false);\n            });\n\n            return () => {\n                hls.destroy();\n            };\n        } else if (video.canPlayType('application/vnd.apple.mpegurl')) {\n            setLoading(true);\n            video.src = playbackUrl;\n            video.addEventListener('loadedmetadata', () => {\n                video.play();\n                setIsPlaying(true);\n                setLoading(false);\n            });\n\n            return () => {\n                video.removeEventListener('loadedmetadata', () => video.play());\n            };\n        } else {\n            console.error('HLS is not supported in this browser.');\n        }\n    };\n\n    return (\n        <Card\n            style={{\n                maxWidth: '800px',\n                margin: '20px auto',\n                padding: '20px',\n                borderRadius: '8px',\n                boxShadow: '0px 4px 10px rgba(0, 0, 0, 0.15)',\n            }}\n            bodyStyle={{ padding: '0' }}\n        >\n            <Title level={3} style={{ textAlign: 'center', margin: '20px 0' }}>\n                Live Streaming Player\n            </Title>\n            <Row justify=\"center\">\n                {!isPlaying && !loading && (\n                    <Button\n                        type=\"primary\"\n                        icon={<PlayCircleOutlined />}\n                        onClick={handlePlay}\n                        size=\"large\"\n                        style={{ marginBottom: '20px' }}\n                    >\n                        Start Stream\n                    </Button>\n                )}\n                {loading && <Spin tip=\"Loading stream...\" size=\"large\" />}\n            </Row>\n            <Row>\n                <Col span={24}>\n                    <video\n                        ref={videoRef}\n                        controls\n                        style={{\n                            width: '100%',\n                            height: 'auto',\n                            display: isPlaying ? 'block' : 'none',\n                            borderRadius: '8px',\n                            border: '1px solid #ddd',\n                        }}\n                    />\n                </Col>\n            </Row>\n            {!isPlaying && !loading && (\n                <Text type=\"secondary\" style={{ display: 'block', textAlign: 'center', marginTop: '20px' }}>\n                    Click \"Start Stream\" to play the live stream.\n                </Text>\n            )}\n        </Card>\n    );\n};\n\nexport default VideoPlayer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}